<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
<style>
img {
  width: 100px;
  height: 100px;
}
</style>
</head>
<body>
    <h4>attr() - 요소의 속성 정보 얻기/설정   
    <br> -파일명 추출 후 title속성으로 설정하기</h4> 

    <img src="../images/ala.jpg" alt="a">
    <img src="../images/bara1.jpg" alt="b">
    <img src="../images/bara2.jpg" alt="c">
    <img src="../images/bara6.webp" alt="d">
    <img src="../images/lion.jpg" alt="e">

<script src="../js/jquery-3.7.1.min.js"></script>    
<script>
    //get - (html, val, attr)는 공통적으로 첫번째 항목만 반환
    // console.log( $('img').attr('src') ); 

    //set - 모든 요소에 일괄 적용
    // $('img').attr('title','일괄일걸??');


    //콜백으로 반환받은 순차적 정보를 각 항목에 적용하기
    $('img').attr('title',function(i,v){

        // console.log(i,v); // title속성에 대한 index, value(속성없으므로 undefined)

        // console.log( $('img') ); //요소의 갯수만큼 반복적으로 모든 요소반환(5*5)
        // console.log( this ); //순차적인 요소 반환
        // console.log( $('img').eq(i) ); //순차적인 요소 반환

        //요소의 src속성 얻기
        let js_src = this.getAttribute('src');
        let jq_src = $(this).attr('src');
        console.log( js_src, jq_src);

        //substring(str,end미만), slice(str,end미만), substr(str,length)
        
        // console.log( jq_src.lastIndexOf(".") -1 );
        let str = jq_src.lastIndexOf("/") +1;
        let end = jq_src.lastIndexOf(".");

        // console.log( jq_src.slice(str,end) );
        return jq_src.slice(str,end); //각 파일명을 title속성 값으로 반환
    })

    $('img').eq(2).attr('src',''); //값 변경을 통한 제거
    // $('img').eq(2).removeAttr('src'); //속성제거

    $('img').eq(2).attr(
        {
            'src':'../images/hh.jpg', 
            'alt':'대체hh',
            'title':'hhhh',
            'style':"border-style: dotted;"
        });
    
</script>
</body>
</html>